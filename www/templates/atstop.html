<ion-view title="{{data.stopName}}">
    <ion-nav-buttons side="right">
        <button class="button button-clear" ng-click="refresh()" ng-disabled="data.val">
            <i class="icon ion-refresh"></i>
        </button>

        <button class="button button-clear" ng-click="addToFavorites()" ng-disabled="data.inFavorites">
            <i class="icon ion-star"></i>
        </button>
    </ion-nav-buttons>

    <ion-content ng-show="data.loaded" has-bouncing="true">
        <div class="card">

            <p class="highlight" ng-show="data.alertsHide">Service Alerts:</p>
            <p class="alerts" ng-show="data.alertsHide" ng-repeat="a in data.alerts">{{a}}</p>

            <p class="highlight">Upcoming Buses:</p>

            <div ng-repeat="(routeId, info) in data.results" class=" ">
                <div class="row item item-divider">
                    <div class="route col">{{info.name}}</div>
                    <a class="button button-full button-clear button-positive ion-earth rightAlign largeIcon" href="#/tab/map/{{routeId}}">
                    </a>
                </div>
                <ion-list>
                    <ion-item ng-repeat="item in info.distances">
                        <h2>{{item.destination}}</h2>
                        <p class="novmargin" ng-hide="!item.expectedArrivalTime"><strong>{{item.arrivingIn|durationView}}</strong>
                        </p>
                        <p class="novmargin" ng-repeat="d in item.distance">{{d}}</p>
                    </ion-item>
                </ion-list>
            </div>
        </div>

        <p>{{data.notifications}}</p>
        
    </ion-content>
</ion-view>