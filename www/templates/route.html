<ion-view title="{{data.routeName}}">
    <ion-content ng-show="data.loaded" has-bouncing="true">

        <ion-nav-buttons side="right">
            <a class="button button-clear" href="#/tab/map/{{routeId}}/">
                <i class="icon ion-earth"></i>
            </a>
        </ion-nav-buttons>

        <p>Choose a direction and stop:</p>


        <div ng-repeat="group in groups">
            <ion-item class="item-stable" ng-click="toggleGroup(group)" ng-class="{active: isGroupShown(group)}">
                <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i>
                <strong>&nbsp; {{group.name}}</strong>
            </ion-item>
            <ion-item class="item-accordion" ng-repeat="item in group.items" ng-show="isGroupShown(group)" href="#/tab/atstop/{{item.id}}/{{item.name | encodeStopName}}">
                {{item.name | encodeStopName}}
            </ion-item>
        </div>

    </ion-content>
</ion-view>